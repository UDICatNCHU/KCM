# Keyword Correlation Model (KCM 關鍵字相關性模型)[![Build Status](https://travis-ci.org/david30907d/KCM.svg?branch=master)](https://travis-ci.org/david30907d/KCM)

This repository contains python scripts to generate KCM/TCM (Keyword/Term Correlating Model) from text file generated by [WikiExtractor](https://github.com/attardi/wikiextractor), which extracts plain text from wiki dumps.  

The python scripts tries to follow the coding convention from [google python style guide](https://google.github.io/styleguide/pyguide.html).


## Getting Started

These instructions will get you a copy of the project up and running on your local machine for development and testing purposes. See deployment for notes on how to deploy the project on a live system.

### Prerequisities

1. OS：Ubuntu / OSX would be nice
2. environment：need python3 `sudo apt-get update; sudo apt-get install; python3 python3-dev`

### Installing

```
git clone https://david30907d@bitbucket.org/udiclab/term_classification.git
make install
```


## Running & Testing

## Run

* `make run` ( This command must be executed in the directory which has `Makefile` )
* Generate sqlite db file from term_pair-freq text file：`python3 term_pair_freq_to_db.py -i=TERM_PAIR_FREQ_FILE -o=DB_FILE`

* Get top n correlated terms from kcm database：`python3 get_top_n_cor_terms_from_db.py -i=KCM_DB -t=BASE_TERM -N=HOW_MANY_COR_TERMS`


* Get top 10 correlated terms from kcm text：`python3 get_top_n_cor_terms_from_text.py -i=KCM_TEXT -t=BASE_TERM`



* Get top 10 correlated term pairs from text：`python3 get_top_n_cor_terms_from_text.py -i=KCM_MODEL`

* Generate Chinese KCM from all wiki files with 4 threads：`python3 gen_kcm.py -l=cht -i [path] -o [path] -m=0 -tc=4`

### Break down into end to end tests


1. 執行全部的測試：`python3 run_tests.py`
2. 分別測試：
  * 測試rm_symbol的功能：`python3 -m unittest test_rm_symbols_tags_empty_lines.py`

### And coding style tests

目前沒有coding style tests...

### Results

```
氟 锶 3
人 秦 5
酸 锅 4
州 路 8
单 双 4
氟 铅 3
市 省 3
耙 酸 4
原 时 3
鱼 鸭 5
汤 菜 8
眼 科 3
```

## Deployment


目前只是一般的python程式，git clone佈署即可

以後會提供django版本，屆時再新增django的deploy 方法

## Built With

* python3.2
* python3.3
* python3.4
* python3.5

## Versioning

For the versions available, see the [tags on this repository](https://github.com/david30907d/KCM/releases).

## Contributors

* **范耀中** [教授](http://web.nchu.edu.tw/~yfan/)
* **黃思穎**
* **陳聖軒**
* **Yen-Ju Lee**
* **張泰瑋** [david](https://github.com/david30907d)

## License

目前還不清楚能不能open source，所以暫不添加License

## Acknowledgments

* 感謝fxsjy的jieba斷詞系統
* 感謝Google工程師釋出的word2vec
